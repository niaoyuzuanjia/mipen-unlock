<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>小米巨能写BL解锁工具</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            /* MD3 颜色系统 */
            --primary: #6750A4;
            --on-primary: #FFFFFF;
            --primary-container: #EADDFF;
            --on-primary-container: #21005D;
            --secondary: #625B71;
            --on-secondary: #FFFFFF;
            --secondary-container: #E8DEF8;
            --on-secondary-container: #1D192B;
            --tertiary: #7D5260;
            --on-tertiary: #FFFFFF;
            --tertiary-container: #FFD8E4;
            --on-tertiary-container: #31111D;
            --error: #B3261E;
            --on-error: #FFFFFF;
            --error-container: #F9DEDC;
            --on-error-container: #410E0B;
            --background: #FFFBFE;
            --on-background: #1C1B1F;
            --surface: #1c1b1f;
            --on-surface: #1C1B1F;
            --surface-variant: #E7E0EC;
            --on-surface-variant: #49454F;
            --outline: #79747E;
            --shadow: #000000;

            /* 形状系统 */
            --shape-corner-extra-small: 4px;
            --shape-corner-small: 8px;
            --shape-corner-medium: 12px;
            --shape-corner-large: 16px;
            --shape-corner-extra-large: 28px;
            --shape-corner-full: 9999px;

            /* 高程阴影 */
            --elevation-1: 0px 1px 2px rgba(0, 0, 0, 0.3), 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
            --elevation-2: 0px 1px 2px rgba(0, 0, 0, 0.3), 0px 2px 6px 2px rgba(0, 0, 0, 0.15);
            --elevation-3: 0px 4px 8px 3px rgba(0, 0, 0, 0.15), 0px 1px 3px rgba(0, 0, 0, 0.3);

            /* 动画曲线 */
            --motion-easing-emphasized: cubic-bezier(0.2, 0, 0, 1);
            --motion-duration-short4: 200ms;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Roboto', sans-serif;
        }

        body {
            background-color:#1C1B1F;
            color: #ffffff;
            line-height: 1.5;
            padding: 16px;

            background-size: cover;
            background-attachment: fixed;
            background-position: center;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        h1, h2, h3, h4 {
            margin-bottom: 16px;
            font-weight: 400;
        }

        h1 {
            font-size: 2rem;
            font-weight: 700;
            letter-spacing: -0.25px;
        }

        h2 {
            font-size: 1.5rem;
            font-weight: 500;
        }

        h3 {
            font-size: 1.25rem;
            font-weight: 500;
            color: #cccccc;
        }

        .section {
            margin-bottom: 40px;
            padding: 24px;
            background: var(--surface);
            border-radius: var(--shape-corner-large);
            box-shadow: var(--elevation-1);
        }

        .component-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 24px;
            margin-top: 20px;
        }

        .component-demo {
            display: flex;
            flex-direction: column;
            gap: 16px;
            padding: 16px;
            background: var(--surface-variant);
            border-radius: var(--shape-corner-medium);
        }

        /* 按钮样式 - MD3 */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 10px 24px;
            margin: 4px;
            font-size: 14px;
            font-weight: 500;
            letter-spacing: 0.1px;
            text-transform: none;
            border: none;
            border-radius: 100px;
            cursor: pointer;
            outline: none;
            transition: all var(--motion-duration-short4) var(--motion-easing-emphasized);
            position: relative;
            overflow: hidden;
        }

        .btn::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background: currentColor;
            opacity: 0;
            border-radius: inherit;
            transition: opacity 0.2s;
        }

        .btn:hover::after {
            opacity: 0.08;
        }

        .btn:focus::after {
            opacity: 0.12;
        }

        .btn:active::after {
            opacity: 0.12;
        }

        .btn-filled {
            background-color: var(--primary);
            color: var(--on-primary);
            box-shadow: var(--elevation-1);
        }

        .btn-filled:hover {
            box-shadow: var(--elevation-2);
        }

        .btn-tonal {
            background-color: var(--secondary-container);
            color: var(--on-secondary-container);
        }

        .btn-outlined {
            background-color: transparent;
            color: var(--primary);
            border: 1px solid var(--outline);
        }

        .btn-elevated {
            background-color: var(--surface);
            color: var(--primary);
            box-shadow: var(--elevation-1);
        }

        .btn-elevated:hover {
            box-shadow: var(--elevation-2);
        }

        .btn-text {
            background-color: transparent;
            color: var(--primary);
        }

        .btn-disabled {
            background-color: rgba(28, 27, 31, 0.12);
            color: rgba(28, 27, 31, 0.38);
            cursor: not-allowed;
            box-shadow: none;
        }

        .btn-disabled::after {
            display: none;
        }

        .btn-icon {
            margin-right: 8px;
            font-size: 18px;
        }

        /* 卡片样式 - MD3 */
        .card {
            background: var(--surface);
            border-radius: var(--shape-corner-medium);
            overflow: hidden;
            box-shadow: var(--elevation-1);
            transition: box-shadow 0.3s ease;
            margin-bottom: 20px;
            padding: 20px;
        }

        .card:hover {
            box-shadow: var(--elevation-2);
        }

        .card-content {
            padding: 16px 0;
        }

        .card-headline {
            font-size: 1.5rem;
            font-weight: 400;
            margin-bottom: 8px;
        }

        .card-subhead {
            font-size: 0.875rem;
            color: var(--on-surface-variant);
            margin-bottom: 16px;
        }

        .card-supporting-text {
            font-size: 0.875rem;
            color: var(--on-surface-variant);
            margin-bottom: 16px;
            line-height: 1.5;
        }

        .card-actions {
            padding: 8px 0 0;
            display: flex;
            justify-content: flex-start;
            gap: 8px;
            flex-wrap: wrap;
        }

        /* 进度条 */
        .progress-container {
            width: 100%;
            height: 20px;
            background-color: var(--surface-variant);
            border-radius: 10px;
            margin: 15px 0;
            overflow: hidden;
            display: none;
            position: relative;
        }

        .progress-bar {
            height: 100%;
            width: 0%;
            background-color: var(--primary);
            border-radius: 10px;
            transition: width 0.3s ease;
        }

        /* 状态消息 */
        .status-message {
            margin-top: 10px;
            padding: 10px 16px;
            border-radius: var(--shape-corner-medium);
            background: var(--surface);
            display: none;
            transition: all 0.3s ease;
            box-shadow: var(--elevation-1);
        }

        .success {
            background-color: var(--tertiary-container);
            color: var(--on-tertiary-container);
        }

        .error {
            background-color: var(--error-container);
            color: var(--on-error-container);
        }

        .warning {
            background-color: var(--secondary-container);
            color: var(--on-secondary-container);
        }

        /* 文件上传显示 */
        #fileNameDisplay {
            padding: 10px 16px;
            border-radius: var(--shape-corner-medium);
            background: var(--surface-variant);
            margin: 10px 0;
            display: inline-block;
        }

        /* 分割线 */
        .divider {
            height: 1px;
            background-color: var(--outline);
            margin: 16px 0;
            opacity: 0.38;
        }

        /* 网格布局 */
        .button-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 12px;
            margin-top: 16px;
        }

        /* 头部样式 */
        .header {
            background: var(--primary);
            color: var(--on-primary);
            padding: 32px;
            border-radius: var(--shape-corner-extra-large);
            box-shadow: var(--elevation-2);
            text-align: center;
            margin-bottom: 30px;
            transition: all 0.3s ease;
        }

        .header:hover {
            box-shadow: var(--elevation-3);
        }

        /* 教程部分 */
        .tutorial-section {
            background: var(--surface);
            border-radius: var(--shape-corner-medium);
            padding: 24px;
            box-shadow: var(--elevation-1);
            margin-bottom: 24px;
        }

        .tutorial-section:hover {
            box-shadow: var(--elevation-2);
        }

        /* 固件选择器 */
        .firmware-selector {
            background: var(--surface);
            border-radius: var(--shape-corner-medium);
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: var(--elevation-1);
            transition: all 0.3s ease;
        }

        .firmware-selector:hover {
            box-shadow: var(--elevation-2);
        }

        /* 设备选择器 */
        .device-selector {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        /* 设备卡片 */
        .device-card {
            background: var(--surface);
            border-radius: var(--shape-corner-medium);
            padding: 24px;
            box-shadow: var(--elevation-1);
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }

        .device-card:hover {
            box-shadow: var(--elevation-2);
        }

        /* 芯片组件 - 用于标签 */
        .chip {
            display: inline-flex;
            align-items: center;
            padding: 6px 16px;
            margin: 4px;
            font-size: 14px;
            font-weight: 500;
            border-radius: 8px;
            background-color: var(--surface-variant);
            color: var(--on-surface-variant);
            cursor: pointer;
            transition: all var(--motion-duration-short4) var(--motion-easing-emphasized);
        }

        .chip:hover {
            background-color: var(--primary);
            color: var(--on-primary);
        }

        .chip-icon {
            margin-right: 8px;
            font-size: 18px;
        }

        /* 许可证文本 */
        .license-text {
            font-size: 0.875rem;
            color: var(--on-surface-variant);
            text-align: center;
            padding: 16px;
            background: var(--surface-variant);
            border-radius: var(--shape-corner-medium);
            margin-top: 20px;
        }
    </style>
</head>
<body>
<div class="container">
    <div class="header">
        <h1>小米巨能写BL解锁工具</h1>
    </div>

    <!-- 调试模式选择 -->
    <div class="section">
        <h2>调试模式</h2>
        <div class="card-actions">
            <button class="btn btn-filled" onclick="selectFirmware('adb')">
                <i class="material-icons btn-icon">wifi</i>
                adb 无线调试
            </button>
            <button class="btn btn-filled" onclick="selectFirmware('usb')">
                <i class="material-icons btn-icon">usb</i>
                USB调试
            </button>
        </div>
    </div>

    <!-- 固件上传 -->
    <div class="section">
        <h2>选择固件/NGZX安装包</h2>
        <h3>上传自定义包</h3>

            <input type="file" id="firmwareUpload" accept=".zip,.ngzx" style="display: none;">
            <button class="btn btn-outlined" onclick="document.getElementById('firmwareUpload').click()">选择包文件</button>
            <div id="fileNameDisplay"></div>
        <p class="card-supporting-text">支持 zip, ngzx 格式</p>
    </div>

    <!-- 官方固件降级 -->
    <div class="section">
        <h2>官方固件降级</h2>
        <div class="button-grid">
            <button class="btn btn-tonal" onclick="selectFirmware('miui9')">MIUI 9</button>
            <button class="btn btn-tonal" onclick="selectFirmware('miui10')">MIUI 10</button>
            <button class="btn btn-tonal" onclick="selectFirmware('miui11')">MIUI 11</button>
            <button class="btn btn-tonal" onclick="selectFirmware('miui12')">MIUI 12</button>
            <button class="btn btn-tonal" onclick="selectFirmware('miui12.5')">MIUI 12.5</button>
            <button class="btn btn-tonal" onclick="selectFirmware('miui13')">MIUI 13</button>
            <button class="btn btn-tonal" onclick="selectFirmware('miui14')">MIUI 14</button>
            <button class="btn btn-tonal" onclick="selectFirmware('hyperos1')">澎湃OS 1.0</button>
            <button class="btn btn-tonal" onclick="selectFirmware('hyperos2')">澎湃OS 2.0</button>
            <button class="btn btn-tonal" onclick="selectFirmware('hyperos3')">澎湃OS 3.0</button>
        </div>
    </div>

    <!-- 第三方固件 -->
    <div class="section">
        <h2>第三方固件</h2>
        <div class="button-grid">
            <button class="btn btn-outlined" onclick="selectFirmware('chenguang')">晨光适配版</button>
            <button class="btn btn-outlined" onclick="selectFirmware('deli_s865')">得力S865适配版</button>
            <button class="btn btn-outlined" onclick="selectFirmware('sanlin_um100')">三菱um100</button>
            <button class="btn btn-outlined" onclick="selectFirmware('xmzxb')">小米中性笔</button>
            <button class="btn btn-outlined" onclick="selectFirmware('flyme10')">Flyme 10</button>
            <button class="btn btn-outlined" onclick="selectFirmware('fedoralinux39')">Fedora Linux 39</button>
            <button class="btn btn-outlined" onclick="selectFirmware('lineageos19')">LineageOS 19</button>
            <button class="btn btn-outlined" onclick="selectFirmware('pep13')">Pixel Experience Plus 13</button>
            <button class="btn btn-outlined" onclick="selectFirmware('archlinux')">Arch Linux</button>
            <button class="btn btn-outlined" onclick="selectFirmware('ubuntults')">Ubuntu 24.04.2 LTS</button>
            <button class="btn btn-outlined" onclick="selectFirmware('GrapheneOS')">石墨烯系统</button>
            <button class="btn btn-outlined" onclick="selectFirmware('hm')">红门5</button>
            <button class="btn btn-outlined" onclick="selectFirmware('freebsd')">FreeBSD</button>
            <button class="btn btn-outlined" onclick="selectFirmware('mint')">Linux Mint</button>
            <button class="btn btn-outlined" onclick="selectFirmware('oppenwrt')">OpenWrt</button>
            <button class="btn btn-outlined" onclick="selectFirmware('mac')">mac OS 13</button>
            <button class="btn btn-outlined" onclick="selectFirmware('zorin')">Zorin OS 17.3 Pro</button>
            <button class="btn btn-outlined" onclick="selectFirmware('fyde')">Fyde OS 20</button>
            <button class="btn btn-outlined" onclick="selectFirmware('oneui')">One UI</button>
            <button class="btn btn-outlined" onclick="selectFirmware('funtouch')">Funtouch OS 10</button>
            <button class="btn btn-outlined" onclick="selectFirmware('pixelos')">Pixel OS</button>
            <button class="btn btn-outlined" onclick="selectFirmware('win8')">Windows 8.1</button>
            <button class="btn btn-outlined" onclick="selectFirmware('win10')">Windows 10</button>
            <button class="btn btn-outlined" onclick="selectFirmware('win11')">Windows 11</button>
        </div>
    </div>

    <!-- 第三方包 -->
    <div class="section">
        <h2>第三方包（npck包管理器）</h2>
        <div class="button-grid">
            <button class="btn btn-text" onclick="selectFirmware('tghz')">10GHz超频包</button>
            <button class="btn btn-text" onclick="selectFirmware('gemini2500')">Gemini 2.5 Flash</button>
            <button class="btn btn-text" onclick="selectFirmware('ds')">Dicksuck 3.1</button>
            <button class="btn btn-text" onclick="selectFirmware('bitlink')">交火挖比特币</button>
            <button class="btn btn-text" onclick="selectFirmware('jdkpcl2')">JDK17 + PCL2</button>
            <button class="btn btn-text" onclick="selectFirmware('gcam')">谷歌相机75合一</button>
            <button class="btn btn-text" onclick="selectFirmware('micam')">小米15移植相机包</button>
            <button class="btn btn-text" onclick="selectFirmware('tpm2')">TPM 2.0激活</button>
        </div>
    </div>

    <!-- 解锁教程 -->
    <div class="section">
        <h2>解锁教程</h2>
        <div class="tutorial-section">
            <h3>步骤1: 进入Fastboot模式</h3>
            <p>关机后拔出底盖进入Fastboot模式...</p>
        </div>
        <div class="tutorial-section">
            <h3>步骤2: 连接解锁</h3>
            <p>使用解锁工具连接设备并解锁...</p>
        </div>
    </div>

    <!-- 使用提示卡片 -->
    <div class="card">
        <div class="card-content">
            <h3 class="card-headline">使用提示与技巧</h3>
            <p class="card-supporting-text">为了获得最佳的解锁体验，请遵循以下建议：</p>
            <ul class="card-supporting-text" style="padding-left: 20px;">
                <li>确保设备电量充足（建议80%以上）</li>
                <li>提前备份重要数据，解锁过程可能会清除数据</li>
                <li>选择与设备型号匹配的固件版本</li>
                <li>解锁后可以自由安装自定义固件</li>
                <li>定期检查更新以获取最新功能</li>
            </ul>
            <p class="card-supporting-text">如有任何问题，请参考详细教程或联系技术支持。</p>
        </div>
    </div>

    <!-- 操作按钮 -->
    <div class="section">
        <h2>执行操作</h2>
        <div class="card-actions">
            <button class="btn btn-filled" id="installBtn" onclick="handleAction('sudomiinstall')">
                <i class="material-icons btn-icon">install_desktop</i>
                解锁并刷入固件/降级
            </button>
            <button class="btn btn-outlined" id="unlockBtn" onclick="handleAction('oubl')">
                <i class="material-icons btn-icon">lock_open</i>
                仅解锁
            </button>
            <button class="btn btn-outlined" id="recoveryBtn" onclick="handleAction('rec')">
                <i class="material-icons btn-icon">restore</i>
                恢复模式刷机
            </button>
        </div>

        <div id="progress-container" class="progress-container">
            <div id="progress-bar" class="progress-bar"></div>
        </div>

        <div id="statusMessage" class="status-message"></div>
    </div>

    <!-- 许可证信息 -->
    <div class="section">
        <p>此软件基于GPL v3开源,请按照开源协议使用</p>
        <p>版本 3.0r1</p>
    </div>
</div>

<script>
    const firmwareNames = {
        'adb': 'mi pen Wireless debug',
        'usb': 'USB debug',
        'miui9': 'MIUI 9',
        'miui10': 'MIUI 10',
        'miui11': 'MIUI 11',
        'miui12': 'MIUI 12',
        'miui12.5': 'MIUI 12.5',
        'miui13': 'MIUI 13',
        'miui14': 'MIUI 14',
        'hyperos1': '澎湃OS 1.0',
        'hyperos2': '澎湃OS 2.0',
        'hyperos3': '澎湃OS 3.0',
        'chenguang': '晨光适配版',
        'deli_s865': '得力S865适配版',
        'sanlin_um100': '三菱um100',
        'ds': '点石移植固件',
        'flyme10': 'flyme10',
        'fedoralinux39': 'fedoralinux39',
        'lineageos19': 'lineageOS19(a13)',
        'pep13': 'pixel experience plus 13',
        'archlinux': 'archlinux',
        'ubuntults': 'ubuntu24.04.2 LTS破解版(去snap，去广告)',
        'GrapheneOS': '石墨烯系统',
        'hm': '花伪红门5',
        'freebsd': 'freebsd',
        'mint': 'linuxmint ',
        'oppenwrt': 'oppenwrt',
        'mac': 'mac OS 13 ',
        'xmzxb': '小米中性笔',
        'zorin': 'zorin OS 17.3 Pro',
        'fyde': 'fyde OS 20',
        'oneui': 'oneui',
        'funtouch': 'funtouch OS 10',
        'pixelos': 'pixel OS',
        'win8': 'windows 8.1',
        'win10': 'windows10',
        'win11': 'windows11',
        'tghz': '10ghz超频包by nnnn',
        'gemini2500': 'gemini 2.5flash(nnnn)',
        'bitlink': '交火挖比特币(号角工作室)',
        'jdkpcl2': 'jdk17+pcl2',
        'gcam': '谷歌相机75合一(nnnn)',
        'micam': '小米15移植相机包v6.0(log模式+水印)',
        'ds': 'dicksuck 3.1',
        'tpm2': 'tpm2.0激活(win11)',
        'sudomiinstall': '解锁并刷入固件/降级',
        'oubl': '仅解锁',
        'rec': '恢复模式刷机'
    };

    function selectFirmware(type) {
        if (!['sudomiinstall', 'oubl', 'rec'].includes(type)) {
            alert(`已选择包: ${firmwareNames[type]}`);
        }
    }

    document.getElementById('firmwareUpload').addEventListener('change', function(e) {
        const file = e.target.files[0];
        if (!file) return;

        const fileName = file.name;
        const fileExt = fileName.split('.').pop().toLowerCase();

        if (fileExt !== 'zip' && fileExt !== 'ngzx') {
            showStatus('只支持.zip和.ngzx格式的固件文件', 'error');
            return;
        }

        document.getElementById('fileNameDisplay').textContent = fileName;
        showStatus(`已选择自定义固件: ${fileName}`, 'success');
    });

    function showStatus(message, type) {
        const statusElement = document.getElementById('statusMessage');
        statusElement.textContent = message;
        statusElement.className = 'status-message ' + (type || '');
        statusElement.style.display = 'block';

        setTimeout(() => {
            statusElement.style.display = 'none';
        }, 5000);
    }

    function handleAction(actionType) {
        // 禁用按钮
        document.getElementById('installBtn').disabled = true;
        document.getElementById('unlockBtn').disabled = true;
        document.getElementById('recoveryBtn').disabled = true;

        // 显示进度条
        const progressContainer = document.getElementById('progress-container');
        const progressBar = document.getElementById('progress-bar');

        progressContainer.style.display = 'block';
        progressBar.style.width = '0%';

        // 显示状态
        showStatus('开始执行，请勿关闭页面...', 'warning');

        // 模拟进度
        let progress = 0;
        const interval = setInterval(() => {
            progress += 5;
            progressBar.style.width = progress + '%';

            if (progress >= 100) {
                clearInterval(interval);

                // 完成
                showStatus('执行完成！', 'success');

                // 重新启用按钮
                document.getElementById('installBtn').disabled = false;
                document.getElementById('unlockBtn').disabled = false;
                document.getElementById('recoveryBtn').disabled = false;

                // 隐藏进度条
                setTimeout(() => {
                    progressContainer.style.display = 'none';
                }, 5000);
            }
        }, 150);

        selectFirmware(actionType);
    }

    // 简单的交互逻辑
    document.addEventListener('DOMContentLoaded', function() {
        // 为所有按钮添加点击效果
        const buttons = document.querySelectorAll('.btn:not(.btn-disabled)');
        buttons.forEach(button => {
            button.addEventListener('click', function() {
                this.style.transform = 'scale(0.98)';
                setTimeout(() => {
                    this.style.transform = '';
                }, 150);
            });
        });
    });
</script>
</body>
</html>
